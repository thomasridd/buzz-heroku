<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900" rel="stylesheet">

    <link rel="stylesheet" href="css/icon-font.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="shortcut icon" type="image/png" href="img/favicon.png">

    <title>Find your buzzz!!!</title>
</head>
    <body>
        <header>
            <div class="header-bar heading-tertiary">
                Buzz buzz buzzzz!!!
            </div>
        </header>
        <main>
            <div class="section-list-style" id="animal-list"></div>

            <div class="footer-bar" id="sticky-footer">
                <div id='confirm' class="footer-bar__confirm buzz-btn buzz-btn-confirm buzz-btn-confirm-disabled">Confirm</div>
                <div id='cancel'  class="footer-bar__give-up buzz-btn buzz-btn-warning">Give up</div>
            </div>
        </main>
    </body>
</html>

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script>
    var selected_animal = "";
    var animals = ['antelope', 'bear', 'bee', 'camel', 'dog', 'dolphin', 'dragonfly', 'duck', 'elephant', 'fish', 'fox', 'frog', 'gnat', 'hawk', 'horse', 'koala', 'pig', 'pigeon', 'sheep', 'stag', 'swan', 'walrus', 'wasp', 'zebra'];

    function divForAnimal(animal) {
        return '<div class="col-1-of-4">' +
        '<div class="animal-button", id="' + animal + '" onClick="clickAnimalButton(\'' + animal + '\')">' +
        '<img class="animal-button__image" src="' + animalImage(animal) + '" />' +
        '</div></div>';
    }

    function clickAnimalButton(animal) {
        selected_animal = animal;
        deselectAnimals();
        selectAnimal(selected_animal);
        activeConfirmButton();

        sendClickToServer(animal);
    }

    function sendClickToServer(animal) {
        var registerAnimalUrl = "{{ url_for('version_1.register_click', animal='ANIMAL_TO_REGISTER') }}";
        var url = registerAnimalUrl.replace(/ANIMAL_TO_REGISTER/, animal);

        console.log(url);
        $.ajax({
            type: "POST",
            url: url,
            context: document.body,
            success: function(){}
        });
    }

    function animalImage(animal) {
        return "{{ url_for('static', filename='images/animals/') }}" + animal + ".png"
    }

    function deselectAnimals() {
        for(i=0; i<animals.length; i++) {
            document.getElementById(animals[i]).classList.remove("animal-button-selected");
        }
    }

    function selectAnimal(animal) {
        document.getElementById(animal).classList.add("animal-button-selected");
    }

    function activeConfirmButton() {
        document.getElementById('confirm').classList.remove('buzz-btn-confirm-disabled')
    }

    function shuffle(array) {
      var currentIndex = array.length, temporaryValue, randomIndex;
      // While there remain elements to shuffle...
      while (0 !== currentIndex) {

        // Pick a remaining element...
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // And swap it with the current element.
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
      }
      return array;
    }

    document.addEventListener("DOMContentLoaded", function(event) {

        shuffle(animals)

        var html = ''
        var animal_ind = 0
        for(row = 0; row < 6; row++){
            html = html + '<div class="row">';
            for(col = 0; col < 4; col++){

                html = html + divForAnimal(animals[animal_ind]);
                animal_ind += 1;

            }
            html = html + '</div>';
        }
        html = html + '<div class="row footer-row">&nbsp;</div>';
        html = html + '<div class="row footer-row">&nbsp;</div>';


        document.getElementById("animal-list").innerHTML = html
    });



</script>

{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#  <head>#}
{#    <title>Buzz buzz buzz</title>#}
{#    <meta name="viewport" content="width=device-width, initial-scale=1.0">#}
{##}
{#    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/') }}{{ 'application.css' | version_filter }}" />#}
{##}
{#    <link rel="stylesheet" href="{{ url_for('static', filename='stylesheets/') }}{{ 'cms.css' | version_filter }}">#}
{##}
{#    <script type="text/javascript" src="{{ url_for('static', filename='vendor/modernizr/modernizr.js') }}"></script>#}
{##}
{#    {% block endhead %} {% endblock %}#}
{#    <script type="text/javascript" src="{{ url_for('static', filename='javascripts/') }}{{ 'all.js' | version_filter }}"></script>#}
{##}
{#    <script type="text/javascript" src="{{ url_for('static', filename='javascripts/') }}{{ 'charts.js' | version_filter }}"></script>#}
{##}
{#    <script type="text/javascript" src="{{ url_for('static', filename='javascripts/') }}{{ 'cms.js' | version_filter }}"></script>#}
{##}
{#  </head>#}
{#  <body class='rd_cms'>#}
{#    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>#}
{##}
{##}
{#    <header id="global-header" class="with-proposition">#}
{#      <div class="header-wrapper">#}
{#        <div class="header-global">#}
{#          <div class="header-logo">#}
{#            <a href="{{ homepage_url|default('https://www.gov.uk') }}" title="{{ logo_link_title|default('Go to the GOV.UK homepage') }}" id="logo" class="content">#}
{#                <img src="{{ url_for('static', filename='images/gov.uk_logotype_crown_invert_trans.png') }}?0.19.2" width="36" height="32" alt="" /> {{ global_header_text|default('GOV.UK') }}#}
{#            </a>#}
{#          </div>#}
{#          {% block inside_header %}{% endblock %}#}
{#        </div>#}
{#        {% include 'static_site/_header_navigation.html' %}#}
{#      </div>#}
{#    </header>#}
{##}
{#    <div class="main" id="content">#}
{#        <div id="global-header-bar"></div>#}
{#        {% include 'static_site/_phase_banner.html' %}#}
{##}
{#        {% if topic %}#}
{#            <div class="grid-row">#}
{#                <div class="column-two-thirds">#}
{#                    <nav class="" aria-label="You are here:" role="navigation">#}
{#                        <ul class='breadcrumbs'>#}
{#                            <li>#}
{#                                <a href="{{ url_for('static_site.index') }}">Ethnicity facts and figures</a>#}
{#                            </li>#}
{#                            <li>#}
{#                                <a href="{{ url_for('static_site.topic', uri=topic.uri) }}">{{ topic.title }}</a>#}
{#                            </li>#}
{#                            {% block end_breadcrumbs %}#}
{#                            {% endblock %}#}
{#                        </ul>#}
{#                    </nav>#}
{#                </div>#}
{#            </div>#}
{#       {% endif %}#}
{##}
{#       {% block messages %}#}
{#       {% endblock %}#}
{##}
{#        {% block main_content %}#}
{#        {% endblock %}#}
{#    </div>#}
{#    <div class='footer-categories grid-row'>#}
{#        <footer class="group js-footer" id="footer" role="contentinfo">#}
{#            <div class="footer-wrapper">#}
{#                {% if current_user.is_authenticated and current_user.is_internal_user() %}#}
{#                    <div class='footer-categories grid-row'>#}
{#                        <div class='column-one-third'>#}
{#                            <ul>#}
{#                                 <li>#}
{#                                    <a href="{{ url_for('dashboard.index') }}">Dashboard</a>#}
{#                                </li>#}
{#                                {% if current_user.is_admin() %}#}
{#                                     <li>#}
{#                                        <a href="{{ url_for('admin.index') }}">Admin</a>#}
{#                                    </li>#}
{#                                {% endif %}#}
{#                            </ul>#}
{#                        </div>#}
{#                    </div>#}
{#                {% endif %}#}
{#                <div class="footer-meta">#}
{#                    <div class="footer-meta-inner">#}
{##}
{#                        <div class="open-government-licence">#}
{#                            <p class="logo"><a#}
{#                                    href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"#}
{#                                    rel="license">Open Government Licence</a></p>#}
{##}
{#                            <p>All content is available under the <a#}
{#                                    href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"#}
{#                                    rel="license">Open Government Licence v3.0</a>, except where otherwise stated#}
{#                            </p>#}
{#                        </div>#}
{#                    </div>#}
{#                    <div class="copyright">#}
{#                        <a href="http://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/copyright-and-re-use/crown-copyright/">{{ crown_copyright_message|default('&copy; Crown copyright')|safe }}</a>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#        </footer>#}
{#     </div>#}
{#    {% block scripts %}{% endblock %}#}
{#  </body>#}
{#</html>#}
{##}
{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <meta name="viewport" content="width=device-width, initial-scale=1.0">#}
{##}
{#    <link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900" rel="stylesheet">#}
{##}
{#    <link rel="stylesheet" href="css/icon-font.css">#}
{#    <link rel="stylesheet" href="css/style.css">#}
{#    <link rel="shortcut icon" type="image/png" href="img/favicon.png">#}
{##}
{#    <title>Find your buzzz!!!</title>#}
{#</head>#}
{#<body>#}
{#    <header>#}
{#        <div class="header-bar heading-tertiary">#}
{#            Buzz buzz buzzzz!!!#}
{#        </div>#}
{#    </header>#}
{#    <main>#}
{#        <div class="section-buzz">#}
{#        <div class="section-buzz__header"><h1 class="heading-primary">Find your buzzzz!!!</h1></div>#}
{#        #}
{#        <div class="section-buzz__main">#}
{##}
{#                <div class="section-buzz__main__image-area" style="position:relative">#}
{#                    <img class="section-buzz__main__image" src="img/bee.jpg" id="bee" />#}
{#                </div>#}
{##}
{#                #}
{#                <div class="section-buzz__main__form">#}
{#                    <div class="section-buzz__main__form-input">#}
{#                        <input class="buzz-input"  placeholder="Participant ID"></input></div>#}
{#                    #}
{#                        <a class="section-buzz__main__form-btn buzz-btn buzz-btn-confirm" href='buzzzz1.html'>Start</a>#}
{#                </div>#}
{#                #}
{##}
{#            #}
{#            #}
{#        </div>#}
{##}
{#        </div>#}
{#    </main>#}
{#</body>#}
{#</html>#}
